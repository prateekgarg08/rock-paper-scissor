<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        
        
        let player = 
        {
            score : 0,
            selection : null
        };
        let computer = 
        {
            score : 0,
            selection : null
        };
        // let rock,paper,sciss or;
        const rock  = new Object();
        const scissor  = new Object();
        const paper  = new Object();

        rock.string = "Rock";
        rock.willdefeat = scissor;
        rock.defeatedBy = paper;

        paper.string = "Paper";
        paper.willdefeat = rock;
        paper.defeatedBy = scissor;

        scissor.string = "Scissor";
        scissor.willdefeat = paper;
        scissor.defeatedBy = rock;
        
        // let paper = 
        // {
        //     willdefeat : rock,
        //     defeatedBy : scissor
        // };
        // let scissor = 
        // {
        //     willdefeat : paper,
        //     defeatedBy : rock
        // };
        const objects= [rock,paper,scissor];

        function playRound(player,computer)
        {
            player.selection = playerSelection();
            computer.selection = computerSelection();
            console.log("Player throws " + player.selection.string);
            console.log("Computer throws " + computer.selection.string);
            roundResult(player,computer);
        }


        function playerSelection()
        {
            let input;
            do
            {
                input = prompt("Choose between \"rock\",\"paper\"and\"scissor\"").toLowerCase();
                if (input == "rock")
                {
                    return rock;
                }
                else if(input == "paper" )
                {
                    return paper;
                }
                else if(input == "scissor")
                {
                    return scissor;
                }

            }
            while ((input!="rock"&&input!="paper"&&input!="scissor"));
            return "";
        }
        function computerSelection()
        {
            let i = Math.floor(Math.random() * 3);
            switch(i)
            {
                case 0:
                    return rock;
                case 1:
                    return paper;
                case 2:
                    return scissor;
            }
        }

        function roundResult (player,computer)
        {
            if (computer.selection == player.selection.willdefeat)
            {
                player.score += 1;
                console.log("You Won");
                console.log(player.selection.string + " defeats " + computer.selection.string);
            }
            else if (computer.selection == player.selection.defeatedBy)
            {
                computer.score +=1;
                console.log("You Lose");
                console.log(computer.selection.string + " defeats " + player.selection.string);
            }
            else 
            {
                console.log("Its draw both choose " + player.selection.string);
            }
        }
        function game()
        {
            for (let i = 0;i<5; i++)
            {
                playRound(player,computer);
                console.log("Current score= Player: " + player.score + " Computer: " + computer.score);
            }

            if(player.score > computer.score)
            {
                console.log("Player Won!!");
            }
            else if (player.score< computer.score)
            {
                console.log("Computer Won!!");
            }
            else
            {
                console.log("It's a draw");
            }
        }
        game();
    </script>
</head>
<body>
    
</body>
</html>